<app-toolbar></app-toolbar>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
<div class="container pb-5">
    <div class="row">
        <div class="col-lg-12">
            <div class="row ">
                <img class="image col-lg-5 col-sm-12" [src]="vivienda?.avatarVivienda" width="400px" height="400px" />
                <div class="col-lg-7 col-sm-12">
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                    <img class="image" [src]="vivienda?.avatarVivienda" width="200px" height="200px" />
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <div class="row mt-5">
                    <div class="col-md-1 precio">
                        <p>{{vivienda?.precio |currency}}</p>
                    </div>
                    <div class="col-md-1 offset-5 favoritos">
                        <button mat-button color="primary"><mat-icon class="fav">favorite_border</mat-icon> Favoritos</button>
                    </div>
                </div>
                <button mat-button class="mt-5" (click)="openDialogInteresados()"> {{vivienda?.intereses}} Me gusta</button>
            </div>
            <div class="d-flex">
                <div class="iconos">
                    <mat-icon>bed</mat-icon>
                    <p>{{vivienda?.numHabitaciones}} habs.</p>
                </div>
                <div class="iconos">
                    <mat-icon>shower</mat-icon>
                    <p>{{vivienda?.numBanyos}} ba√±os</p>
                </div>
                <div class="iconos">
                    <mat-icon>fullscreen</mat-icon>
                    <p>{{vivienda?.metrosCuadrados}} m2</p>
                </div>
                <div class="iconos" *ngIf="vivienda?.tienePiscina">
                    <mat-icon>pool</mat-icon>
                    <p>Piscina</p>
                </div>
                <div class="iconos" *ngIf="vivienda?.tieneGaraje">
                    <mat-icon>directions_car_filled</mat-icon>
                    <p>Garaje</p>
                </div>
                <div class="iconos" *ngIf="vivienda?.tieneAscensor">
                    <mat-icon>elevator</mat-icon>
                    <p>Ascensor</p>
                </div>
            </div>
            <hr />
        </div>
        <div class="col-lg-9">
            <h2>{{vivienda?.titulo}}</h2>
            <h3>{{vivienda?.poblacion}} {{vivienda?.provincia}} {{vivienda?.direccion}}</h3>
            <p>{{vivienda?.descripcion}}</p>
        </div>
        <div class="col-lg-3 info">
            <button mat-button [matMenuTriggerFor]="menu" #menuTrigger><mat-icon >more_vert</mat-icon></button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item [routerLink]="['/vivienda/editar/', vivienda?.id]"><mat-icon class="icon-edit">edit</mat-icon><span>Editar</span></button>
                <button mat-menu-item (click)="openDialogEliminarVivienda(vivienda.id)"><mat-icon class="icon-bin">delete</mat-icon><span style="color: red">Eliminar</span></button>
            </mat-menu>
            <div class="row">
              <div class="col-1 offset-3">
                <h3 class="datos">Inmobiliaria</h3>
              </div>
              <div class="col-1 offset-3">
                <button mat-button (click)="eliminarInmobiliaria()" onClick="history.go(0)"><mat-icon class="icon-bin">delete</mat-icon></button>
                <button mat-button (click)="AgregarInmobiliaria()"><mat-icon class="icon-bin">add</mat-icon></button>
              </div>
            </div>
            <img [src]='(vivienda?.avatar==null?vivienda?.avatarPropietario:vivienda.avatar)' [alt]='(vivienda?.email)' width="80px" />
            <button mat-raised-button class="contactar"><a href="tel:+34(vivienda.telefono)"><mat-icon class="material-icons-outlined-1">call</mat-icon><span class="phone">{{vivienda?.telefono}}</span></a></button>
            <button mat-raised-button class="contactar" color="primary"><a href="mailto:(vivienda.email)"><mat-icon class="material-icons-outlined-2">mail_outline</mat-icon><span class="contact">Contactar</span></a></button>
            <h3 class="datos">Propietario</h3>
            <img [src]='(vivienda?.avatarPropietario)' [alt]='(vivienda?.nombre)' width="80px" />
            <p>{{vivienda?.nombre}} {{vivienda?.apellidos}}</p>
            <button mat-raised-button class="contactar" color="bassic" [routerLink]="['/propietario/',vivienda?.propietarioId]">Ver perfil</button>
        </div>
    </div>
</div>
